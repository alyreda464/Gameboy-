	INCLUDE TFT.s

	AREA NEWNEWCODE, CODE, READONLY
	EXPORT SNAKE_GAME
	EXPORT SNAKE_BACKGROUND
	EXPORT SNAKE_HEAD
	EXPORT MOVEHEADLEFT
	EXPORT DELETEHEAD
	EXPORT SNAKE_TAIL
	EXPORT LOSS_CONDITION	
	IMPORT __main	
		
		
		
SNAKE_GAME FUNCTION
;		PUSH
	PUSH {R0-R10, LR}
		B LTORG_LABEL_LBL1
	LTORG
LTORG_LABEL_LBL1
	
	LDR R0,=SNAKEHEADX
	MOV R1, #50
	STRH R1,[R0]

	LDRH R1, [r0]
	
	LDR R0,=SNAKEHEADY
	MOV R1, #50
	STRH R1,[R0]
	
	LDR R0,=BIG
	MOV R1, #0
	STRH R1,[R0]	
	
	LDRH R1, [r0]
		B LTORG_LABEL21
	LTORG
LTORG_LABEL21	
	
	LDR R0,=SNAKE_TAILX
	MOV R1, #50
	STRH R1,[R0]
	
		B LTORG_LABEL39
	LTORG
LTORG_LABEL39
	LDR R0,=SNAKE_TAILY
	MOV R1, #60
	STRH R1,[R0]
		B LTORG_LABEL4
	LTORG
LTORG_LABEL4	

	
	LDR R0,=SNAKE_DIRECTION
	MOV R1, #1   ;1 UP 2 DOWN 3 RIGHT 4 LEFT
	STRH R1,[R0]
	
		B LTORG_LABEL5
	LTORG
LTORG_LABEL5		
	LDR R0,=TAIL_DIRECTION
	MOV R1, #0  ;1 UP 2 DOWN 3 RIGHT 4 LEFT
	STRH R1,[R0]
	

	
	BL SNAKE_BACKGROUND
	BL SNAKE_HEAD
	BL SNAKE_TAIL
	BL SNAKE_DCOIN
	BL SNAKE_NORMAL_COIN
	
		B LTORG_LABEL6
	LTORG
LTORG_LABEL6		
	LDR R0,=GPIOB_IDR_OFFSET ;UP AND DOWN REGISTER
	LDR R1,=GPIOC_IDR_OFFSET ;LEFT AND RIGHT REIGESTER
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;	
INF
	;CHECK IF RIGHT BUTTON IS PRESSED, THEN MOVE THE SPRITE IF PRESSED
	LDR R0,=GPIOC_IDR_OFFSET
	LDR R1,[R0]
	;CHECK RIGHT
	MOV R2, #1
	AND R1, R1, R2, LSL #13
	CMP R1,#0
	BNE checkLeft
		B LTORG_LABEL7
	LTORG
LTORG_LABEL7		
repeatRight
	LDR R0,=GPIOC_IDR_OFFSET
	LDR R1,[R0]
	MOV R2, #1
	AND R1, R1, R2, LSL #13
	CMP R1,#0
	BEQ repeatRight

	BL delay_milli_second
	BL MOVEHEADRIGHT
	BL LOSS_CONDITION
	BL delay_milli_second
	BL MOVE_TAIL
	BL GROW
	BL DIE
	BL DIE2
		B LTORG_LABEL88
	LTORG
LTORG_LABEL88	
	
checkLeft
	LDR R0,=GPIOC_IDR_OFFSET
	LDR R1,[R0]
	;CHECK RIGHT
	MOV R2, #1
	AND R1, R1, R2, LSL #14
	CMP R1,#0
	BNE checkDown
	
repeatLeft
	LDR R1,[R0]
	MOV R2, #1
	AND R1, R1, R2, LSL #14
	CMP R1,#0
	BEQ repeatLeft
	BL delay_milli_second
	BL MOVEHEADLEFT
	BL LOSS_CONDITION
	BL delay_milli_second
	BL MOVE_TAIL
	BL GROW
	BL DIE
	BL DIE2
	
		B LTORG_LABEL96
	LTORG
LTORG_LABEL96		
	;CHECK IF DOWN BUTTON IS PRESSED, THEN MOVE THE CURSOR IF PRESSED

checkDown
	LDR R0,=GPIOB_IDR_OFFSET
			B LTORG_LABEL63
	LTORG
LTORG_LABEL63	
	LDR R1,[R0]
	;CHECK down
	MOV R2, #1
	AND R1, R1, R2, LSL #10
	CMP R1,#0
	BNE checkUp
	
repeatDown
	LDR R0,=GPIOB_IDR_OFFSET
			B LTORG_LABEL61
	LTORG
LTORG_LABEL61	
	LDR R1,[R0]
	MOV R2, #1
	AND R1, R1, R2, LSL #10
	CMP R1,#0
	BEQ repeatDown
	;do function right
	BL delay_milli_second
	BL MOVEHEADDOWN
	BL LOSS_CONDITION
	BL delay_milli_second
	BL MOVE_TAIL
	BL GROW
	BL DIE
	BL DIE2
	;CHECK IF UP BUTTON IS PRESSED, THEN MOVE THE CURSOR IF PRESSED
	
checkUp
	LDR R0,=GPIOB_IDR_OFFSET
			B LTORG_LABEL62
	LTORG
LTORG_LABEL62	
	LDR R1,[R0]
	;CHECK RIGHT
	MOV R2, #1
	AND R1, R1, R2, LSL #11
	CMP R1,#0
	BNE INF
	
repeatUp
	LDR R1,[R0]
	MOV R2, #1
	AND R1, R1, R2, LSL #11
	CMP R1,#0
	BEQ repeatUp
	BL delay_milli_second
	BL MOVEHEADUP
	BL LOSS_CONDITION
	BL delay_milli_second
	BL MOVE_TAIL
	BL GROW
	BL DIE
	BL DIE2
	B INF
	POP {R0-R10, PC}
	ENDFUNC

		


DELETEHEAD FUNCTION
	PUSH {R0-R10, LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#15
    ADD R4,R7,#15
    MOV R10, #GREEN2
    BL DRAW_RECTANGLE_FILLED

        

	POP {R0-R10, PC}
	ENDFUNC

DELETEHEADBIG FUNCTION
	PUSH {R0-R10, LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#25
    ADD R4,R7,#25
    MOV R10, #GREEN2
    BL DRAW_RECTANGLE_FILLED

        

	POP {R0-R10, PC}
	ENDFUNC

SNAKE_BACKGROUND FUNCTION  ; DRAW BACKGROUND OF THE GAME

	PUSH {R0-R10, LR}
	
	
	MOV R0, #0
    MOV R1, #0
    MOV R3, #320
    MOV R4, #280
    MOV R10, #GREEN2
    BL DRAW_RECTANGLE_FILLED
	
	POP {R0-R10, PC}
	ENDFUNC

		
		
		
		
		
		
		
		
SNAKE_HEAD FUNCTION   ; DRAW SNAKE
	PUSH {R0-R10, LR}
	 
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =50
    LDRH R7,[R8] ;Y =50
	
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#15
    ADD R4,R7,#15
    ADD R10, #RED
    BL DRAW_RECTANGLE_FILLED
	
	
	POP {R0-R10, PC}
	ENDFUNC

SNAKE_HEADBIG FUNCTION   ; DRAW SNAKE
	PUSH {R0-R10, LR}
	 
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =50
    LDRH R7,[R8] ;Y =50
	
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#25  ;25
    ADD R4,R7,#25  ;25
    ADD R10, #RED
    BL DRAW_RECTANGLE_FILLED
	
	
	POP {R0-R10, PC}
	ENDFUNC
DIE FUNCTION
	PUSH {R0-R12, LR} ;180 200
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)

	CMP R6,#85
	BGE CMP212
	BLT OOUT21
CMP212
	CMP R6,#100
	BLE CMP312
	BGT OOUT21
CMP312
	CMP R7,#188
	BGE CMP412
	BLT OOUT21
CMP412	
	CMP R7,#210
	BLE GROOOW1
	BGE OOUT21
	
GROOOW1

 BL LOSS
 
OOUT21

	POP{R0-R12,PC}
	ENDFUNC	
DIE2 FUNCTION
	PUSH {R0-R12, LR} ;180 200
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)

	CMP R6,#190
	BGE CMP2122
	BLT OOUT212
CMP2122
	CMP R6,#210
	BLE CMP3122
	BGT OOUT212
CMP3122
	CMP R7,#45
	BGE CMP4122
	BLT OOUT212
CMP4122	
	CMP R7,#60
	BLE GROOOW12
	BGE OOUT212
	
GROOOW12

 BL LOSS
 
OOUT212

	POP{R0-R12,PC}
	ENDFUNC	


SNAKE_TAIL FUNCTION   ; DRAW SNAKE
	PUSH {R0-R10, LR}
	 
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =50
    LDRH R7,[R8] ;Y =60
	
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#15
    ADD R4,R7,#15
    ADD R10, #BLACK
    BL DRAW_RECTANGLE_FILLED
	

	
	POP {R0-R10, PC}
	ENDFUNC		

SNAKE_TAILBIG FUNCTION   ; DRAW SNAKE
	PUSH {R0-R10, LR}
	 
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =50
    LDRH R7,[R8] ;Y =60
	
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#25
    ADD R4,R7,#25
    ADD R10, #BLACK
    BL DRAW_RECTANGLE_FILLED

	POP {R0-R10, PC}
	ENDFUNC	

MOVEHEADLEFT FUNCTION
	PUSH{R0-R12,LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60) 
	;--------------------	
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ RETURN20
    BL DELETEHEAD
	B QQ	
RETURN20	
	BL DELETEHEADBIG
QQ
	SUB R6,R6,#10
	STRH R6,[R9]
;--------------------	
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ WW
    BL SNAKE_HEAD
	B DDD	
WW	
	BL SNAKE_HEADBIG
DDD
	LDR R1,=SNAKE_DIRECTION
		B LTORG_LABEL_LBL100
	LTORG
LTORG_LABEL_LBL100	
	LDR R2,=TAIL_DIRECTION
	LDRH R3,[R1] ;R3 CONTAINS HEAD DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION 
	
	STRH R3,[R2]
	MOV R0,#4
	STRH R0,[R1]
	
		
	POP{R0-R12,PC}
	ENDFUNC		
	
MOVEHEADRIGHT FUNCTION
	PUSH{R0-R12,LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ RETURN201
    BL DELETEHEAD
	B QQ1	
RETURN201	
	BL DELETEHEADBIG
QQ1
	ADD R6,R6,#10
	STRH R6,[R9]
	
	LDR R2,=BIG 
	LDRH R3,[R2]
	CMP R3,#1
	BEQ WW1
    BL SNAKE_HEAD
	B DDD1	
WW1	
	BL SNAKE_HEADBIG
DDD1
		B LTORG_LABEL_LBL188
	LTORG
LTORG_LABEL_LBL188	
	
		
	LDR R1,=SNAKE_DIRECTION 
			B LTORG_LABEL_LBL155
	LTORG
LTORG_LABEL_LBL155
	LDR R2,=TAIL_DIRECTION
			B LTORG_LABEL_LBL122
	LTORG
LTORG_LABEL_LBL122
	LDRH R3,[R1] ;R3 CONTAINS HEAD DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION 
	
	STRH R3,[R2]
	MOV R0,#3
	STRH R0,[R1]

	
		
	POP{R0-R12,PC}
	ENDFUNC	

MOVEHEADUP FUNCTION
	PUSH{R0-R12,LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ RETURN202
    BL DELETEHEAD
	B RETURN23	
RETURN202	
	BL DELETEHEADBIG
RETURN23
	SUB R7,R7,#10
	STRH R7,[R8]

	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN21
    BL SNAKE_HEAD
	B RETURN22	
RETURN21	
	BL SNAKE_HEADBIG
RETURN22  

	LDR R1,=SNAKE_DIRECTION 
	LDR R2,=TAIL_DIRECTION
				B LTORG_LABEL_LBL1225
	LTORG
LTORG_LABEL_LBL1225
	LDRH R3,[R1] ;R3 CONTAINS HEAD DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION 
	
	STRH R3,[R2]
	MOV R0,#1
	STRH R0,[R1]
		
		
	POP{R0-R12,PC}
	ENDFUNC		
	
MOVEHEADDOWN FUNCTION
	PUSH{R0-R12,LR}
	
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	LDR R3,=BIG 
			B LTORG_LABEL_LBL187
	LTORG
LTORG_LABEL_LBL187
	LDRH R2,[R3]
	CMP R2,#1
	BEQ RETURN203
    BL DELETEHEAD
	B RETURN24	
RETURN203	
	BL DELETEHEADBIG
RETURN24
	ADD R7,R7,#10
	STRH R7,[R8]
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN25
    BL SNAKE_HEAD
	B RETURN26	
RETURN25	
	BL SNAKE_HEADBIG
			B LTORG_LABEL_LBL1888
	LTORG
LTORG_LABEL_LBL1888
RETURN26

	LDR R1,=SNAKE_DIRECTION 
			B LTORG_LABEL_LBL1872
	LTORG
LTORG_LABEL_LBL1872
	LDR R2,=TAIL_DIRECTION
			B LTORG_LABEL_LBL1879
	LTORG
LTORG_LABEL_LBL1879
	LDRH R3,[R1] ;R3 CONTAINS HEAD DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION 
	
	STRH R3,[R2]
	MOV R0,#2
	STRH R0,[R1]

	
		
	POP{R0-R12,PC}
	ENDFUNC	

		
DELETETAIL FUNCTION
	PUSH {R0-R10, LR}
	
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#15
    ADD R4,R7,#15
    MOV R10, #GREEN2
    BL DRAW_RECTANGLE_FILLED

	POP {R0-R10, PC}
	ENDFUNC

DELETETAILBIG FUNCTION
	PUSH {R0-R10, LR}
	
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	
	MOV R0,R6
    MOV R1,R7
    ADD R3,R6,#25
    ADD R4,R7,#25
    MOV R10, #GREEN2
    BL DRAW_RECTANGLE_FILLED

	POP {R0-R10, PC}
	ENDFUNC

MOVETAILLEFT FUNCTION
	PUSH{R0-R12,LR}
	;;;;;;;;;;;;;;;;;;;;;;;;;;;

	
		
	POP{R0-R12,PC}
	ENDFUNC	
	
MOVETAILRIGHT FUNCTION
	PUSH{R0-R12,LR}

	

	
		
	POP{R0-R12,PC}
	ENDFUNC	

MOVETAILUP FUNCTION
	PUSH{R0-R12,LR}

	POP{R0-R12,PC}
	ENDFUNC
	
MOVETAILDOWN FUNCTION
	PUSH{R0-R12,LR}
	

		
	POP{R0-R12,PC}
	ENDFUNC	
		
		
MOVE_TAIL FUNCTION
	PUSH{R0-R12,LR} 
	LDR R2,=TAIL_DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION
	CMP R4,#1
	BNE CMP2
MOVEUP	
	PUSH{R0-R12,LR} 
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60) 
	;--------------------	
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ REDO7
    BL DELETETAIL
	B RETURN217	
REDO7	
	BL DELETETAILBIG
RETURN217
	SUB R7,R7,#10
	STRH R7,[R8]
;--------------------	
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN2088
    BL SNAKE_TAIL
	B RETURN2588	
RETURN2088
	BL SNAKE_TAILBIG
RETURN2588
CMP2
	CMP R4,#2
	BNE CMP3 	
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60) 
	;--------------------	
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ REDO3
    BL DELETETAIL
	B RETURN213	
REDO3	
	BL DELETETAILBIG
RETURN213
	ADD R7,R7,#10
	STRH R7,[R8]
;--------------------	
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN207
    BL SNAKE_TAIL
	B RETURN257	
RETURN207
	BL SNAKE_TAILBIG
RETURN257  
CMP3
	CMP R4,#3
	BNE CMP4
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60) 
	;--------------------	
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ REDO1
    BL DELETETAIL
	B RETURN211	
REDO1	
	BL DELETETAILBIG
RETURN211
	ADD R6,R6,#10
	STRH R6,[R9]
;--------------------	
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN208
    BL SNAKE_TAIL
	B RETURN258	
RETURN208
	BL SNAKE_TAILBIG
RETURN258
	

CMP4	
	CMP R4,#4
	BNE ENDD
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60) 
	;--------------------	
	LDR R3,=BIG 
	LDRH R2,[R3]
	CMP R2,#1
	BEQ REDO
    BL DELETETAIL
	B RETURN212
REDO	
	BL DELETETAILBIG
RETURN212
	SUB R6,R6,#10
	STRH R6,[R9]
;--------------------	
	LDR R9,=BIG 
	LDRH R6,[R9]
	CMP R6,#1
	BEQ RETURN2013
    BL SNAKE_TAIL
	B RETURN2513	
RETURN2013
	BL SNAKE_TAILBIG
RETURN2513
	POP{R0-R12,PC}

	
ENDD
		
	POP{R0-R12,PC}
	ENDFUNC		

LOSS_CONDITION
	PUSH{R0-R12,LR}
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	CMP R7,#0
	BLE LOSS
	CMP R7,#240
	BGE LOSS
	CMP R6,#0
	BLE LOSS
	CMP R6,#320
	BGE LOSS
	
	B ENND
	
LOSS 

	MOV R0, #0
    MOV R1, #0
    MOV R3, #320
    MOV R4, #280
    MOV R10, #RED
    BL DRAW_RECTANGLE_FILLED
	BL GAMEOVER
STOP5
  BL delay_1_second
  BL delay_1_second
  BL delay_1_second
  BL delay_1_second
  BL delay_1_second
  BL __main
 B STOP5
	   
ENND		
		
	POP{R0-R12,PC}
	ENDFUNC
SNAKE_COIN FUNCTION   ; DRAW SUPER COIN WHICH INCREAMENT SCORE BY 10
	PUSH {R0-R10, LR}
	MOV R0, #200
    MOV R1, #180
    MOV R3, #210
    MOV R4, #190
    MOV R10, #YELLOW
    BL DRAW_RECTANGLE_FILLED
	
	MOV R0, #180
    MOV R1, #100
    MOV R3, #190
    MOV R4, #110
    MOV R10, #YELLOW
    BL DRAW_RECTANGLE_FILLED
	
	POP {R0-R10, PC}
	ENDFUNC
	
SNAKE_DCOIN FUNCTION   ; DRAW SUPER COIN WHICH DECREMENT SCORE BY 20
	PUSH {R0-R10, LR}  ;10 10
	MOV R0, #90   ;90
    MOV R1, #200  ;200
    MOV R3, #100   ;100
    MOV R4, #210  ;210
    MOV R10, #BLUE
    BL DRAW_RECTANGLE_FILLED ; =4 X -5 Y
	
	MOV R0, #94
    MOV R1, #195
    MOV R3, #96
    MOV R4, #197
    MOV R10, #GREEN
    BL DRAW_RECTANGLE_FILLED

	
	MOV R0, #200
    MOV R1, #50
    MOV R3, #210
    MOV R4, #60
    MOV R10, #BLUE
    BL DRAW_RECTANGLE_FILLED
	
	MOV R0, #204
    MOV R1, #45
    MOV R3, #206
    MOV R4, #47
    MOV R10, #GREEN
    BL DRAW_RECTANGLE_FILLED
	
	
	POP {R0-R10, PC}
	ENDFUNC	
	
SNAKE_NORMAL_COIN FUNCTION  ; DRAW  COIN WHICH INCREAMENT SCORE BY 1
	PUSH {R0-R10, LR}
	MOV R0, #180
    MOV R1, #200
    MOV R3, #190
    MOV R4, #210
    MOV R10, #RED
    BL DRAW_RECTANGLE_FILLED
	
	MOV R0, #184
    MOV R1, #195
    MOV R3, #186
    MOV R4, #200
    MOV R10, #GREEN
    BL DRAW_RECTANGLE_FILLED



    BL DRAW_RECTANGLE_FILLED
	POP {R0-R10, PC}
	ENDFUNC	

GROW FUNCTION
	PUSH {R0-R10, LR} ;180 200
	LDR R9,=SNAKEHEADX 
	LDR R8,=SNAKEHEADY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)

	CMP R6,#170 ;170
	BGE CMP21
	BLT OOUT
CMP21
	CMP R6,#180   ;180
	BLE CMP31
	BGT OOUT
CMP31
	CMP R7,#190   ;190
	BGE CMP41
	BLT OOUT
CMP41	
	CMP R7,#210    ;210
	BLE GROOOW
	
GROOOW
	LDR R9,=BIG 
	LDRH R6,[R9] ;X =(50,60)
	MOV R1,#1
	STRH  R1,[R9]
 BL SNAKE_HEADBIG
 BL SNAKE_TAILBIG
 
OOUT

	POP {R0-R10, PC}
	ENDFUNC	

GROW_TAIL FUNCTION
	PUSH{R0-R12,LR} 
	LDR R2,=TAIL_DIRECTION
    LDRH R4,[R2]; R4 CONTAINS TAIL DIRECTION
	CMP R4,#1
	BNE CMP25
GROWUP	
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	ADD R7,R7,#15
	STRH R7,[R8]	
    BL SNAKE_TAIL    
		
CMP25
	CMP R4,#2
	BNE CMP35
GROWDOWN
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	SUB R7,R7,#15
	STRH R7,[R8]	
    BL SNAKE_TAIL  
CMP35
	CMP R4,#3
	BNE CMP45 
GROWRIGHT
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	ADD R6,R6,#15
	STRH R6,[R9]
    BL SNAKE_TAIL    


CMP45	
	CMP R4,#4
	BNE ENDDD
GROWLEFT
	LDR R9,=SNAKE_TAILX 
	LDR R8,=SNAKE_TAILY
	LDRH R6,[R9] ;X =(50,60)
    LDRH R7,[R8] ;Y =(50,60)
	SUB R6,R6,#15
	STRH R6,[R9]
    BL SNAKE_TAIL 

	
ENDDD
		
	POP{R0-R12,PC}
	ENDFUNC	



END